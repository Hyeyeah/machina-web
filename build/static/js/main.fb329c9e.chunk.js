(this.webpackJsonpmachinery=this.webpackJsonpmachinery||[]).push([[0],{103:function(e){e.exports=JSON.parse('{"apiUrl":"http://172.105.217.250:3900/api"}')},262:function(e,t,a){e.exports=a.p+"static/media/loginBack.8f56a0ec.jpeg"},263:function(e,t,a){e.exports=a.p+"static/media/registerBack.cc9bf286.jpeg"},272:function(e,t,a){e.exports=a(501)},277:function(e,t,a){},278:function(e,t,a){},501:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),c=a.n(l),i=(a(277),a(34)),s=(a(278),a(32)),m=a(502),o=a(511),u=a(97),d=a(516),p=a(517),E=a(39),f=Object.freeze({ADMIN:"/admin",ADMIN_LOGIN:"/admin/login",ADMIN_REGISTER:"/admin/register",ADMIN_MACHINES:"/admin/machines",ADMIN_MACHINE_DETAIL:"/admin/machines/:id",ADMIN_MACHINE_NEW:"/admin/newMachine",ADMIN_MANUFUCTURERS:"/admin/manufucturers",ADMIN_MANUFUCTURER_DETAIL:"/admin/manufucturers/:id",ADMIN_MANUFUCTURER_NEW:"/admin/newManufucturer"}),g="#fa8c16",y="#bae637",h="white",b="#0c0c0c",v=o.a.Text,I=m.a.Sider,w=u.a.SubMenu;var k=function(){var e=Object(s.g)().location.pathname;return r.a.createElement(I,{trigger:null},r.a.createElement("div",{className:"logo",style:{color:"white",padding:10,paddingBottom:0,textAlign:"center"}},r.a.createElement(v,{style:{fontSize:"1.2em",color:h}},"Machinery"),r.a.createElement("p",{style:{fontSize:"0.9em",opacity:.7}},"Administration")),r.a.createElement(u.a,{theme:"dark",mode:"inline",defaultSelectedKeys:e,defaultOpenKeys:e.includes(f.ADMIN_MACHINE_NEW)||e.includes(f.ADMIN_MACHINES)?["machine"]:e.includes(f.ADMIN_MANUFUCTURER_NEW)||e.includes(f.ADMIN_MANUFUCTURERS)?["manufucturer"]:["machine","manufucturer"]},r.a.createElement(w,{key:"machine",title:"Machine",icon:r.a.createElement(d.a,null)},r.a.createElement(u.a.Item,{key:f.ADMIN_MACHINES},r.a.createElement(E.b,{to:f.ADMIN_MACHINES},"Machines")),r.a.createElement(u.a.Item,{key:f.ADMIN_MACHINE_NEW},r.a.createElement(E.b,{to:f.ADMIN_MACHINE_NEW},"Add machine"))),r.a.createElement(w,{key:"manufucturer",title:"Manufucturer",icon:r.a.createElement(p.a,null)},r.a.createElement(u.a.Item,{key:f.ADMIN_MANUFUCTURERS},r.a.createElement(E.b,{to:f.ADMIN_MANUFUCTURERS},"Manufucturers")),r.a.createElement(u.a.Item,{key:f.ADMIN_MANUFUCTURER_NEW},r.a.createElement(E.b,{to:f.ADMIN_MANUFUCTURER_NEW},"Add manufucturer")))))},M=a(512),S=a(33),A=a(515),N=a(239),x=a.n(N),j=a(518),C=a(519),O=a(12),T=a.n(O),P=a(24),_=a(86),D=a.n(_),U=a(268);var R={init:function(){},log:function(e){U.b.error(e.response.data)}},q=a(103);D.a.defaults.baseURL=q.apiUrl,D.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(R.log(e),U.b.error("An unexpected error occurred.")),Promise.reject(e)}));var L={get:D.a.get,post:D.a.post,put:D.a.put,delete:D.a.delete,setJwt:function(e){D.a.defaults.headers.common["x-auth-token"]=e}},F=a(237),K=a.n(F);function B(){return localStorage.getItem("token")}function H(){return(H=Object(P.a)(T.a.mark((function e(t,a){var n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.post("/auth",{email:t,password:a});case 2:n=e.sent,r=n.data,localStorage.setItem("token",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}L.setJwt(B());var W={login:function(e,t){return H.apply(this,arguments)},logout:function(){localStorage.removeItem("token")},getCurrentUser:function(){try{var e=localStorage.getItem("token");return K()(e)}catch(t){return null}},loginWithJwt:function(e){localStorage.setItem("token",e)},getJwt:B},z=r.a.createContext();z.displayName="UserContext";var V=z,G=m.a.Header,Q=M.a.confirm,J=function(){Q({title:"Would you like to log out?",icon:r.a.createElement(j.a,null),okText:"Logout",onOk:function(){W.logout(),window.location.replace(f.ADMIN_LOGIN)}})};var $=function(){var e=Object(n.useContext)(V).user;return r.a.createElement(G,{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"}},r.a.createElement(S.a,{type:"text",onClick:J},r.a.createElement(j.a,null),"Logout"),r.a.createElement(A.a,{style:{backgroundColor:g,marginLeft:15},icon:r.a.createElement(C.a,null)}),r.a.createElement(x.a,{style:{color:h,marginLeft:10,opacity:.7}},e&&e.name))},Y=a(130),X=a(504),Z=a(241),ee=a(509),te=a(503),ae=a(505),ne=a(513),re=a(510),le=a(508),ce=a(160),ie=a(520),se=a(521),me=a(522),oe=a(523),ue=o.a.Text;var de=function(e){var t=e.icon,a=e.title,n=e.marginTop,l=void 0===n?40:n;return r.a.createElement(te.a,{style:{marginTop:l,marginBottom:20}},r.a.createElement(ue,{style:{color:g,fontSize:"1.2em"}},r.a.createElement(X.a,null,t,a)))},pe=["Construction","Agriculture and Farming","Mining","Fishig","Packaging and Processing","Manufucturing","Accessories"],Ee=a(23);var fe={getMachines:function(){return L.get("/machines")},getMachine:function(e){return L.get("".concat("/machines","/").concat(e))},createMachine:function(e){var t=[];e.images.forEach((function(e){return t.push(e.response)}));var a={title:e.title,description:e.description,manufucturer:e.manufucturer,minimumQuantity:e.minimumQuantity,options:e.options,category:e.category,link:e.link,images:t};return L.post("/machines",a)},saveMachine:function(e,t){var a=[];Array.isArray(e.images)?a=Object(Ee.a)(e.images):e.images.fileList.forEach((function(e){e.url?a.push(e.url):a.push(e.response)}));var n={title:e.title,description:e.description,manufucturer:e.manufucturer,minimumQuantity:e.minimumQuantity,options:e.options,category:e.category,link:e.link,images:a};return L.put("".concat("/machines","/").concat(t),n)},deleteMachine:function(e){return L.delete("".concat("/machines","/").concat(e))}};var ge={getManufucturerSelector:function(){return L.get("/manufucturers/selector/")},getManufucturers:function(){return L.get("/manufucturers")},getManufucturer:function(e){return L.get("".concat("/manufucturers","/").concat(e))},createManufucturer:function(e){return L.post("/manufucturers",e)},saveManufucturer:function(e,t){return L.put("".concat("/manufucturers","/").concat(t),e)},deleteManufucturer:function(e){return L.delete("".concat("/manufucturers","/").concat(e))}},ye=o.a.Text,he=o.a.Title,be=Y.a.Option,ve=function(e){return Array.isArray(e)?e:e&&e.fileList};var Ie=function(){var e=Object(s.g)(),t=Object(n.useState)([]),a=Object(i.a)(t,2),l=a[0],c=a[1],m=Object(n.useState)(!1),o=Object(i.a)(m,2),u=o[0],d=o[1];Object(n.useEffect)((function(){p()}),[]);var p=function(){var e=Object(P.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,ge.getManufucturerSelector();case 4:(t=e.sent)&&c(t.data),d(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),R.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var t=Object(P.a)(T.a.mark((function t(a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.prev=1,t.next=4,fe.createMachine(a);case 4:U.b.success("".concat(a.title," has been created successfully.")),e.push(f.ADMIN_MACHINES),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0.response&&400===t.t0.response.status&&U.b.error(t.t0.response.data);case 11:d(!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{style:{padding:40}},r.a.createElement(he,{level:3},r.a.createElement(X.a,null,r.a.createElement(ie.a,null),"Add new machine")),r.a.createElement(Z.a,{size:"large",spinning:u},r.a.createElement(ee.a,{style:{width:"60%"},name:"dynamic_form_nest_item",layout:"vertical",hideRequiredMark:!0,onFinish:E},r.a.createElement(de,{title:"Machine",icon:r.a.createElement(se.a,null)}),r.a.createElement(te.a,{gutter:16},r.a.createElement(ae.a,{span:12},r.a.createElement(ee.a.Item,{name:"title",label:"Title",rules:[{required:!0,message:"Please enter title"}]},r.a.createElement(ne.a,{placeholder:"Please enter title"}))),r.a.createElement(ae.a,{span:12},r.a.createElement(ee.a.Item,{name:"category",label:"Category",rules:[{required:!0,message:"Please select category"}]},r.a.createElement(Y.a,{placeholder:"Please select category"},pe&&pe.map((function(e){return r.a.createElement(be,{key:e,value:e},e)})))))),r.a.createElement(te.a,{gutter:16},r.a.createElement(ae.a,{span:12},r.a.createElement(ee.a.Item,{name:"manufucturer",label:"Manufucturer",rules:[{required:!0,message:"Please select manufucturer"}]},r.a.createElement(Y.a,{placeholder:"Please select manufucturer"},l&&l.map((function(e){return r.a.createElement(be,{key:e._id,value:e._id},e.name)}))))),r.a.createElement(ae.a,{span:12},r.a.createElement(ee.a.Item,{name:"link",label:"Link",rules:[{required:!0,message:"Please select link"}]},r.a.createElement(ne.a,{placeholder:"Please enter link"})))),r.a.createElement(te.a,{gutter:16},r.a.createElement(ae.a,{span:12},r.a.createElement(ee.a.Item,{name:"minimumQuantity",label:"Minimum quantity",rules:[{required:!0,message:"Please enter minimum quantity"},{type:"number",min:0,message:"Please enter number"}]},r.a.createElement(re.a,{style:{width:"100%"},placeholder:"Please enter minimum quantity",min:0})))),r.a.createElement(te.a,{gutter:16},r.a.createElement(ae.a,{span:12},r.a.createElement(ee.a.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please select description"}]},r.a.createElement(ne.a.TextArea,{autoSize:{minRows:5},placeholder:"Please enter description"}))),r.a.createElement(ae.a,{span:12},r.a.createElement(ee.a.Item,{label:"Images"},r.a.createElement(ee.a.Item,{name:"images",valuePropName:"fileList",getValueFromEvent:ve,noStyle:!0,rules:[{required:!0,message:"Please upload image"}]},r.a.createElement(le.a.Dragger,{name:"images",action:q.apiUrl+"/images",multiple:!0},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(me.a,null)),r.a.createElement("p",null,"Click or drag photo to this area to upload")))))),r.a.createElement(de,{title:"Options",icon:r.a.createElement(oe.a,null)}),r.a.createElement(ee.a.List,{name:"options"},(function(e,t){var a=t.add,n=t.remove;return r.a.createElement("div",null,e.map((function(e,t){return r.a.createElement("div",{key:e.key,style:{marginBottom:20}},r.a.createElement(te.a,{style:{marginBottom:15},align:"middle",justify:"space-between"},r.a.createElement(ye,{style:{color:h}},"Option ",t+1),r.a.createElement(S.a,{type:"link",onClick:function(){n(e.name)}},"Remove")),r.a.createElement(te.a,{gutter:16},r.a.createElement(ae.a,{span:12},r.a.createElement(ee.a.Item,Object.assign({},e,{name:[e.name,"name"],fieldKey:[e.fieldKey,"name"],label:"Name",rules:[{required:!0,message:"Please enter name"}]}),r.a.createElement(ne.a,{placeholder:"Please enter name"}))),r.a.createElement(ae.a,{span:12},r.a.createElement(ee.a.Item,Object.assign({},e,{name:[e.name,"price"],fieldKey:[e.fieldKey,"price"],label:"Price",rules:[{required:!0,message:"Please enter price"},{type:"number",min:0,message:"Please enter price"}]}),r.a.createElement(re.a,{style:{width:"100%"},formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")}})))),r.a.createElement(te.a,{gutter:16},r.a.createElement(ae.a,{span:12},r.a.createElement(ee.a.Item,Object.assign({},e,{name:[e.name,"weight"],fieldKey:[e.fieldKey,"weight"],label:"Weight"}),r.a.createElement(ne.a,{suffix:"kg",placeholder:"Please enter weight"}))),r.a.createElement(ae.a,{span:12},r.a.createElement(ee.a.Item,Object.assign({},e,{name:[e.name,"power"],fieldKey:[e.fieldKey,"power"],label:"Power"}),r.a.createElement(ne.a,{suffix:"watts",placeholder:"Please enter power"})))),r.a.createElement(te.a,{gutter:16},r.a.createElement(ae.a,{span:12},r.a.createElement(ee.a.Item,Object.assign({},e,{name:[e.name,"material"],fieldKey:[e.fieldKey,"material"],label:"Material"}),r.a.createElement(ne.a,{placeholder:"Please enter material"}))),r.a.createElement(ae.a,{span:12},r.a.createElement(ee.a.Item,Object.assign({},e,{name:[e.name,"warranty"],fieldKey:[e.fieldKey,"warranty"],label:"Warranty"}),r.a.createElement(ne.a,{placeholder:"Please enter warranty",suffix:"years"})))),r.a.createElement(te.a,{gutter:16},r.a.createElement(ae.a,{span:12},r.a.createElement(ee.a.Item,Object.assign({},e,{name:[e.name,"isSecondHand"],fieldKey:[e.fieldKey,"isSecondHand"],label:"Is this a second hand machine?",rules:[{required:!0,message:"Please choose one"}]}),r.a.createElement(ce.a.Group,null,r.a.createElement(ce.a,{value:!0},"Yes"),r.a.createElement(ce.a,{value:!1},"No"))))))})),r.a.createElement(ee.a.Item,null,r.a.createElement(S.a,{type:"dashed",onClick:function(){a()},block:!0},r.a.createElement(ie.a,null)," Add option")))})),r.a.createElement(te.a,{justify:"end"},r.a.createElement(S.a,{type:"primary",style:{marginTop:50},htmlType:"submit",size:"large"},"Save machine")))))},we=a(58),ke=a(67),Me=a(78),Se=a(108),Ae=a(162),Ne=a(507),xe=a(524),je=o.a.Link,Ce=o.a.Title,Oe=function(e){var t=[];return e.forEach((function(e){t.push({text:e,value:e})})),t},Te=function(e){Object(Se.a)(a,e);var t=Object(Ae.a)(a);function a(){var e;Object(ke.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={searchText:"",searchedColumn:"",loading:!1,data:[]},e.componentDidMount=Object(P.a)(T.a.mark((function t(){var a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.prev=1,t.next=4,fe.getMachines();case 4:(a=t.sent)&&e.setState({data:a.data,loading:!1}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),R.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),e.getColumnSearchProps=function(t){return{filterDropdown:function(a){var n=a.setSelectedKeys,l=a.selectedKeys,c=a.confirm,i=a.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(ne.a,{ref:function(t){e.searchInput=t},placeholder:Array.isArray(t)?"Search ".concat(t[0]):"Search ".concat(t),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(l,c,t)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(X.a,null,r.a.createElement(S.a,{type:"primary",onClick:function(){return e.handleSearch(l,c,t)},icon:r.a.createElement(xe.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(S.a,{onClick:function(){return e.handleReset(i)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(xe.a,{style:{color:e?y:void 0}})},onFilter:function(e,a){return Array.isArray(t)?a[t[0]][t[1]]?a[t[0]][t[1]].toString().toLowerCase().includes(e.toLowerCase()):"":a[t]?a[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}))}}},e.handleSearch=function(t,a,n){a(),e.setState({searchText:t[0],searchedColumn:n})},e.handleReset=function(t){t(),e.setState({searchText:""})},e}return Object(Me.a)(a,[{key:"render",value:function(){var e=[Object(we.a)(Object(we.a)({title:"Title",dataIndex:"title",key:"title"},this.getColumnSearchProps("title")),{},{sorter:function(e,t){return e.title.length-t.title.length},sortDirections:["descend","ascend"]}),Object(we.a)(Object(we.a)({title:"Manufucturer",dataIndex:["manufucturer","name"],key:"manufucturer"},this.getColumnSearchProps(["manufucturer","name"])),{},{sorter:function(e,t){return e.manufucturer.name.length-t.manufucturer.name.length},sortDirections:["descend","ascend"]}),{title:"Category",dataIndex:"category",key:"category",filters:Oe(pe),onFilter:function(e,t){return 0===t.category.indexOf(e)},sorter:function(e,t){return e.category.length-t.category.length},sortDirections:["descend","ascend"]},{title:"Number of options",dataIndex:"options",key:"options",sorter:function(e,t){return e.options.length-t.options.length},sortDirections:["descend","ascend"],render:function(e,t){return t.options.length}},{title:"View",key:"view",render:function(e,t){return r.a.createElement(E.b,{to:"".concat(f.ADMIN_MACHINES,"/").concat(t._id)},r.a.createElement(je,null,"View"))}}],t=this.state,a=t.data,n=t.loading;return r.a.createElement("div",{style:{padding:40}},r.a.createElement(Ce,{level:3,style:{marginBottom:30}},r.a.createElement(X.a,null,r.a.createElement(d.a,null)," Machines")),r.a.createElement(Ne.a,{dataSource:a,columns:e,pagination:{pageSize:8},loading:n}))}}]),a}(n.Component),Pe=a(514),_e=a(238),De=a(506),Ue=a(525),Re=o.a.Title,qe=o.a.Text,Le=Y.a.Option,Fe=function(e){var t=[];return e.forEach((function(e,a){t.push({uid:"".concat(-1*(a+1)),name:"image".concat(a+1,".png"),status:"done",url:e})})),t};var Ke=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(),m=Object(i.a)(c,2),o=m[0],u=m[1],p=Object(n.useState)(),E=Object(i.a)(p,2),y=E[0],h=E[1],b=Object(n.useState)(!1),v=Object(i.a)(b,2),I=v[0],w=v[1],k=Object(n.useState)([]),M=Object(i.a)(k,2),A=M[0],N=M[1],x=Object(s.g)(),j=Object(s.h)().id;Object(n.useEffect)((function(){C(),O()}),[]);var C=function(){var e=Object(P.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,fe.getMachine(j);case 4:(t=e.sent)&&(u(t.data),w(!1),h(Fe(t.data.images))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),R.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(P.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,ge.getManufucturerSelector();case 4:(t=e.sent)&&N(t.data),w(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),R.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(P.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,fe.saveMachine(t,j);case 4:(a=e.sent)&&(u(a.data),l(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.response&&400===e.t0.response.status&&U.b.error(e.t0.response.data);case 11:w(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(P.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe.deleteMachine(j);case 3:x.push(f.ADMIN_MACHINES),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),R.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(P.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.url){e.next=5;break}return e.next=4,new Promise((function(e){var a=new FileReader;a.readAsDataURL(t.originFileObj),a.onload=function(){return e(a.result)}}));case 4:a=e.sent;case 5:(n=new Image).src=a,window.open(a).document.write(n.outerHTML);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{padding:40}},r.a.createElement(Z.a,{size:"large",spinning:I},o&&r.a.createElement(ee.a,{name:"dynamic_form_item",layout:"vertical",hideRequiredMark:!0,initialValues:{title:o.title,description:o.description,images:o.images,link:o.link,category:o.category,manufucturer:o.manufucturer._id,minimumQuantity:o.minimumQuantity,options:o.options},onFinish:_},r.a.createElement(te.a,{justify:"space-between"},r.a.createElement(Re,{level:3,style:{marginBottom:30}},r.a.createElement(X.a,null,r.a.createElement(d.a,null),o.title)),a?r.a.createElement(te.a,{justify:"end"},r.a.createElement(X.a,null,r.a.createElement(ee.a.Item,{noStyle:!0,style:{display:"block"}},r.a.createElement(S.a,{type:"primary",htmlType:"submit"},"Save changes")),r.a.createElement(S.a,{onClick:function(){return l(!1)}},"Cancel"))):r.a.createElement(S.a,{htmlType:"button",onClick:function(){return l(!0)}},r.a.createElement(Ue.a,null)," Edit machine")),r.a.createElement(de,{title:"Machine",icon:r.a.createElement(se.a,null),marginTop:0}),r.a.createElement(Pe.a,{layout:"vertical",bordered:!0},r.a.createElement(Pe.a.Item,{label:"Title"},a?r.a.createElement(ee.a.Item,{name:"title",rules:[{required:!0,message:"Please enter title"}],noStyle:!0},r.a.createElement(ne.a,null)):o.title),r.a.createElement(Pe.a.Item,{label:"Manufucturer"},a?r.a.createElement(ee.a.Item,{name:"manufucturer",noStyle:!0},r.a.createElement(Y.a,{style:{width:"100%"}},A&&A.map((function(e){return r.a.createElement(Le,{key:e._id,value:e._id},e.name)})))):o.manufucturer.name),r.a.createElement(Pe.a.Item,{label:"Category"},a?r.a.createElement(ee.a.Item,{name:"category",noStyle:!0},r.a.createElement(Y.a,{style:{width:"100%"}},pe&&pe.map((function(e){return r.a.createElement(Le,{key:e,value:e},e)})))):o.category),r.a.createElement(Pe.a.Item,{label:"Link"},a?r.a.createElement(ee.a.Item,{name:"link",rules:[{required:!0,message:"Please enter link"}],noStyle:!0},r.a.createElement(ne.a,null)):o.link),r.a.createElement(Pe.a.Item,{label:"Minimum quantity"},a?r.a.createElement(ee.a.Item,{name:"minimumQuantity",rules:[{required:!0,message:"Please enter minimum quantity"}],noStyle:!0},r.a.createElement(ne.a,null)):o.minimumQuantity),r.a.createElement(Pe.a.Item,{label:"Description",style:{maxWidth:300}},a?r.a.createElement(ee.a.Item,{name:"description",rules:[{required:!0,message:"Please enter description"}],noStyle:!0},r.a.createElement(ne.a.TextArea,{autoSize:!0})):o.description),r.a.createElement(Pe.a.Item,{label:"Options",span:3},a?r.a.createElement(ee.a.List,{name:"options"},(function(e,t){var a=t.add,n=t.remove;return r.a.createElement("div",{style:{padding:30}},e.map((function(e,t){return r.a.createElement("div",{key:e.key,style:{paddingBottom:30}},r.a.createElement(te.a,{style:{marginBottom:15},align:"middle",justify:"space-between"},r.a.createElement(qe,{style:{color:g}},"Option ",t+1),r.a.createElement(S.a,{type:"link",onClick:function(){n(e.name)}},"Remove")),r.a.createElement(Pe.a,{bordered:!0,style:{marginTop:20}},r.a.createElement(Pe.a.Item,{label:"Name"},r.a.createElement(ee.a.Item,Object.assign({},e,{name:[e.name,"name"],fieldKey:[e.fieldKey,"name"],rules:[{required:!0,message:"Please enter name"}],noStyle:!0}),r.a.createElement(ne.a,null))),r.a.createElement(Pe.a.Item,{label:"Price"},r.a.createElement(ee.a.Item,Object.assign({},e,{name:[e.name,"price"],fieldKey:[e.fieldKey,"price"],rules:[{required:!0,message:"Please enter price"}],noStyle:!0}),r.a.createElement(re.a,{formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")},style:{width:"100%"}}))),r.a.createElement(Pe.a.Item,{label:"Weight"},r.a.createElement(ee.a.Item,Object.assign({},e,{name:[e.name,"weight"],fieldKey:[e.fieldKey,"weight"],noStyle:!0}),r.a.createElement(ne.a,{suffix:"kg"}))),r.a.createElement(Pe.a.Item,{label:"Power"},r.a.createElement(ee.a.Item,Object.assign({},e,{name:[e.name,"power"],fieldKey:[e.fieldKey,"power"],noStyle:!0}),r.a.createElement(ne.a,{suffix:"watts"}))),r.a.createElement(Pe.a.Item,{label:"Material"},r.a.createElement(ee.a.Item,Object.assign({},e,{name:[e.name,"material"],fieldKey:[e.fieldKey,"material"],noStyle:!0}),r.a.createElement(ne.a,null))),r.a.createElement(Pe.a.Item,{label:"Warranty"},r.a.createElement(ee.a.Item,Object.assign({},e,{name:[e.name,"warranty"],fieldKey:[e.fieldKey,"warranty"],noStyle:!0}),r.a.createElement(ne.a,{suffix:"years"}))),r.a.createElement(Pe.a.Item,{label:"Is this a second hand machine?"},r.a.createElement(ee.a.Item,Object.assign({},e,{name:[e.name,"isSecondHand"],fieldKey:[e.fieldKey,"isSecondHand"],rules:[{required:!0,message:"Please choose one"}],noStyle:!0}),r.a.createElement(ce.a.Group,null,r.a.createElement(ce.a,{value:!0},"Yes"),r.a.createElement(ce.a,{value:!1},"No"))))))})),r.a.createElement(ee.a.Item,null,r.a.createElement(S.a,{type:"dashed",onClick:function(){a()},block:!0},r.a.createElement(ie.a,null)," Add option")))})):o.options&&o.options.map((function(e){return r.a.createElement("div",{key:e.name,style:{padding:30}},r.a.createElement(qe,{style:{color:g}},"Option ",o.options.indexOf(e)+1),r.a.createElement(Pe.a,{bordered:!0,style:{marginTop:20}},r.a.createElement(Pe.a.Item,{label:"Name"},e.name),r.a.createElement(Pe.a.Item,{label:"Price"},"$ ".concat(e.price).replace(/\B(?=(\d{3})+(?!\d))/g,",")),r.a.createElement(Pe.a.Item,{label:"Weight"},"".concat(e.weight," kg")),r.a.createElement(Pe.a.Item,{label:"Power"},"".concat(e.power," watts")),r.a.createElement(Pe.a.Item,{label:"Material"},e.material),r.a.createElement(Pe.a.Item,{label:"Warranty"},"".concat(e.power," ").concat(e.power<=1?"year":"years")),r.a.createElement(Pe.a.Item,{label:"Second hand"},e.isSecondhand&&!0===e.isSecondhand?"Yes":"No")))}))),r.a.createElement(Pe.a.Item,{label:"Images",span:3},r.a.createElement(te.a,{gutter:"16"},a?r.a.createElement(ee.a.Item,{name:"images",noStyle:!0},r.a.createElement(le.a,{name:"images",action:q.apiUrl+"/images",listType:"picture-card",fileList:y,onChange:function(e){var t=e.fileList;return h(t)},onPreview:L},y.length>=20?null:r.a.createElement("div",null,r.a.createElement(ie.a,null),r.a.createElement("div",{className:"ant-upload-text"},"Upload")))):o.images&&o.images.map((function(e){return r.a.createElement(ae.a,{style:{marginBottom:16}},r.a.createElement(_e.a,{content:r.a.createElement("img",{src:e,alt:o.title,style:{width:500,height:300,objectFit:"cover"}})},r.a.createElement("img",{key:e,src:e,alt:o.title,style:{width:100,height:100,objectFit:"cover"}})))}))))),a&&r.a.createElement(te.a,{style:{marginTop:20},justify:"end"},r.a.createElement(De.a,{title:"Are you sure delete this machine?",onConfirm:D,okText:"Yes",cancelText:"No"},r.a.createElement(S.a,{danger:!0},"Delete"))))))},Be=o.a.Link,He=o.a.Title,We=function(e){Object(Se.a)(a,e);var t=Object(Ae.a)(a);function a(){var e;Object(ke.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={searchText:"",searchedColumn:"",loading:!1,data:[]},e.componentDidMount=Object(P.a)(T.a.mark((function t(){var a,n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.prev=1,t.next=4,ge.getManufucturers();case 4:a=t.sent,n=a.data,e.setState({data:n,loading:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),R.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])}))),e.getColumnSearchProps=function(t){return{filterDropdown:function(a){var n=a.setSelectedKeys,l=a.selectedKeys,c=a.confirm,i=a.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(ne.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(t),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(l,c,t)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(X.a,null,r.a.createElement(S.a,{type:"primary",onClick:function(){return e.handleSearch(l,c,t)},icon:r.a.createElement(xe.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(S.a,{onClick:function(){return e.handleReset(i)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(xe.a,{style:{color:e?y:void 0}})},onFilter:function(e,a){return a[t]?a[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}))}}},e.handleSearch=function(t,a,n){a(),e.setState({searchText:t[0],searchedColumn:n})},e.handleReset=function(t){t(),e.setState({searchText:""})},e}return Object(Me.a)(a,[{key:"render",value:function(){var e=[Object(we.a)(Object(we.a)({title:"Name",dataIndex:"name",key:"name"},this.getColumnSearchProps("name")),{},{sorter:function(e,t){return e.name.length-t.name.length},sortDirections:["descend","ascend"]}),Object(we.a)(Object(we.a)({title:"Address",dataIndex:"address",key:"address"},this.getColumnSearchProps("address")),{},{sorter:function(e,t){return e.address.length-t.address.length},sortDirections:["descend","ascend"]}),Object(we.a)(Object(we.a)({title:"Website",dataIndex:"website",key:"website"},this.getColumnSearchProps("website")),{},{sorter:function(e,t){return e.website.length-t.website.length},sortDirections:["descend","ascend"]}),{title:"View",key:"view",render:function(e,t){return r.a.createElement(E.b,{to:"".concat(f.ADMIN_MANUFUCTURERS,"/").concat(t._id)},r.a.createElement(Be,null,"View"))}}],t=this.state,a=t.data,n=t.loading;return r.a.createElement("div",{style:{padding:40}},r.a.createElement(He,{level:3,style:{marginBottom:30}},r.a.createElement(X.a,null,r.a.createElement(p.a,null)," Manufucturers")),r.a.createElement(Ne.a,{dataSource:a,columns:e,pagination:{pageSize:8},loading:n}))}}]),a}(n.Component),ze=a(526),Ve=o.a.Text,Ge=o.a.Title;var Qe=function(){var e=Object(s.g)(),t=Object(n.useState)(!1),a=Object(i.a)(t,2),l=a[0],c=a[1],m=function(){var t=Object(P.a)(T.a.mark((function t(a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),t.prev=1,t.next=4,ge.createManufucturer(a);case 4:U.b.success("".concat(a.name," has been created successfully.")),e.push(f.ADMIN_MANUFUCTURERS),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0.response&&400===t.t0.response.status&&U.b.error(t.t0.response.data);case 11:c(!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{style:{padding:40}},r.a.createElement(Ge,{level:3},r.a.createElement(X.a,null,r.a.createElement(ie.a,null),"Add new manufucturer")),r.a.createElement(Z.a,{size:"large",spinning:l},r.a.createElement(ee.a,{style:{width:"60%"},name:"dynamic_form_item",layout:"vertical",hideRequiredMark:!0,onFinish:m},r.a.createElement(de,{title:"Manufucturer",icon:r.a.createElement(se.a,null)}),r.a.createElement(te.a,{gutter:16},r.a.createElement(ae.a,{span:12},r.a.createElement(ee.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter name"}]},r.a.createElement(ne.a,{placeholder:"Please enter name"}))),r.a.createElement(ae.a,{span:12},r.a.createElement(ee.a.Item,{name:"address",label:"Address",rules:[{required:!0,message:"Please enter address"}]},r.a.createElement(ne.a,{placeholder:"Please enter address"})))),r.a.createElement(te.a,{gutter:16},r.a.createElement(ae.a,{span:12},r.a.createElement(ee.a.Item,{name:"website",label:"Website",rules:[{required:!0,message:"Please enter website"}]},r.a.createElement(ne.a,{placeholder:"Please enter website"}))),r.a.createElement(ae.a,{span:12},r.a.createElement(ee.a.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please enter description"}]},r.a.createElement(ne.a.TextArea,{placeholder:"Please enter description"})))),r.a.createElement(te.a,{gutter:16},r.a.createElement(ae.a,{span:12},r.a.createElement(te.a,{style:{marginBottom:10}},r.a.createElement(Ve,{style:{color:h}},"Contacts")),r.a.createElement(ee.a.List,{name:"contacts"},(function(e,t){var a=t.add,n=t.remove;return r.a.createElement("div",null,e.map((function(e,t){return r.a.createElement(ee.a.Item,{required:!1,key:e.key},r.a.createElement(ee.a.Item,Object.assign({},e,{validateTrigger:["onChange","onBlur"],noStyle:!0}),r.a.createElement(ne.a,{placeholder:"Please enter contact",style:{width:"100%"},suffix:r.a.createElement(ze.a,{style:{marginLeft:10},onClick:function(){n(e.name)}})})))})),r.a.createElement(ee.a.Item,null,r.a.createElement(S.a,{type:"dashed",onClick:function(){a()},style:{width:"100%"}},r.a.createElement(ie.a,null)," Add contact")))}))),r.a.createElement(ae.a,{span:12},r.a.createElement(te.a,{style:{marginBottom:10}},r.a.createElement(Ve,{style:{color:h}},"Email")),r.a.createElement(ee.a.List,{name:"email"},(function(e,t){var a=t.add,n=t.remove;return r.a.createElement("div",null,e.map((function(e,t){return r.a.createElement(ee.a.Item,{required:!1,key:e.key},r.a.createElement(ee.a.Item,Object.assign({},e,{validateTrigger:["onChange","onBlur"],noStyle:!0}),r.a.createElement(ne.a,{placeholder:"Please enter email",style:{width:"100%"},type:"email",suffix:r.a.createElement(ze.a,{style:{marginLeft:10},onClick:function(){n(e.name)}})})))})),r.a.createElement(ee.a.Item,null,r.a.createElement(S.a,{type:"dashed",onClick:function(){a()},style:{width:"100%"}},r.a.createElement(ie.a,null)," Add email")))})))),r.a.createElement(te.a,{justify:"end"},r.a.createElement(ee.a.Item,null,r.a.createElement(S.a,{type:"primary",style:{marginTop:50},htmlType:"submit",size:"large"},"Save manufucturer"))))))},Je=o.a.Title,$e=o.a.Text;var Ye=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),m=Object(i.a)(c,2),o=m[0],u=m[1],d=Object(n.useState)(),E=Object(i.a)(d,2),g=E[0],y=E[1],h=Object(s.g)(),b=Object(s.h)().id;Object(n.useEffect)((function(){v()}),[]);var v=function(){var e=Object(P.a)(T.a.mark((function e(){var t,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,ge.getManufucturer(b);case 4:t=e.sent,a=t.data,y(a),u(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),R.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(P.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,ge.saveManufucturer(t,b);case 4:(a=e.sent)&&(y(a.data),l(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.response&&400===e.t0.response.status&&U.b.error(e.t0.response.data);case 11:u(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(P.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.deleteManufucturer(b);case 3:h.push(f.ADMIN_MANUFUCTURERS),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),R.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{padding:40}},r.a.createElement(Z.a,{size:"large",spinning:o},g&&r.a.createElement(ee.a,{name:"dynamic_form_item",layout:"vertical",hideRequiredMark:!0,initialValues:{name:g&&g.name,address:g&&g.address,description:g&&g.description,website:g&&g.website,contacts:g&&g.contacts,email:g&&g.email},onFinish:I},r.a.createElement(te.a,{justify:"space-between"},r.a.createElement(Je,{level:3,style:{marginBottom:30}},r.a.createElement(X.a,null,r.a.createElement(p.a,null),g.name)),a?r.a.createElement(te.a,{justify:"end"},r.a.createElement(X.a,null,r.a.createElement(ee.a.Item,{noStyle:!0,style:{display:"block"}},r.a.createElement(S.a,{type:"primary",htmlType:"submit"},"Save changes")),r.a.createElement(S.a,{onClick:function(){return l(!1)}},"Cancel"))):r.a.createElement(S.a,{htmlType:"button",onClick:function(){return l(!0)}},r.a.createElement(Ue.a,null)," Edit manufucturer")),r.a.createElement(de,{title:"Manufucturer",icon:r.a.createElement(se.a,null),marginTop:0}),r.a.createElement(Pe.a,{layout:"vertical",bordered:!0,column:2,style:{width:"60%"}},r.a.createElement(Pe.a.Item,{label:"Name"},a?r.a.createElement(ee.a.Item,{name:"name",rules:[{required:!0,message:"Please enter name"}],noStyle:!0},r.a.createElement(ne.a,null)):g.name),r.a.createElement(Pe.a.Item,{label:"Website"},a?r.a.createElement(ee.a.Item,{name:"website",rules:[{required:!0,message:"Please enter website"}],noStyle:!0},r.a.createElement(ne.a,null)):g.website),r.a.createElement(Pe.a.Item,{label:"Address"},a?r.a.createElement(ee.a.Item,{name:"address",rules:[{required:!0,message:"Please enter address"}],noStyle:!0},r.a.createElement(ne.a.TextArea,{autoSize:!0})):g.address),r.a.createElement(Pe.a.Item,{label:"Description"},a?r.a.createElement(ee.a.Item,{name:"description",rules:[{required:!0,message:"Please enter description"}],noStyle:!0},r.a.createElement(ne.a.TextArea,{autoSize:!0})):g.description),r.a.createElement(Pe.a.Item,{label:"Contacts"},a?r.a.createElement(ee.a.List,{name:"contacts"},(function(e,t){var a=t.add,n=t.remove;return r.a.createElement("div",null,e.map((function(e,t){return r.a.createElement(ee.a.Item,{required:!1,key:e.key},r.a.createElement(ee.a.Item,Object.assign({},e,{validateTrigger:["onChange","onBlur"],noStyle:!0}),r.a.createElement(ne.a,{placeholder:"Please enter contact",style:{width:"100%"},suffix:r.a.createElement(ze.a,{style:{marginLeft:10},onClick:function(){n(e.name)}})})))})),r.a.createElement(ee.a.Item,null,r.a.createElement(S.a,{type:"dashed",onClick:function(){a()},style:{width:"100%"}},r.a.createElement(ie.a,null)," Add contact")))})):g.contacts&&g.contacts.map((function(e){return r.a.createElement($e,{key:e,style:{display:"block"}},e)}))),r.a.createElement(Pe.a.Item,{label:"Email"},a?r.a.createElement(ee.a.List,{name:"email"},(function(e,t){var a=t.add,n=t.remove;return r.a.createElement("div",null,e.map((function(e,t){return r.a.createElement(ee.a.Item,{required:!1,key:e.key},r.a.createElement(ee.a.Item,Object.assign({},e,{validateTrigger:["onChange","onBlur"],noStyle:!0}),r.a.createElement(ne.a,{placeholder:"Please enter email",style:{width:"100%"},type:"email",suffix:r.a.createElement(ze.a,{style:{marginLeft:10},onClick:function(){n(e.name)}})})))})),r.a.createElement(ee.a.Item,null,r.a.createElement(S.a,{type:"dashed",onClick:function(){a()},style:{width:"100%"}},r.a.createElement(ie.a,null)," Add email")))})):g.email&&g.email.map((function(e){return r.a.createElement($e,{key:e,style:{display:"block"}},e)})))),a&&r.a.createElement(te.a,{style:{marginTop:20,width:"60%"},justify:"end"},r.a.createElement(De.a,{title:"Are you sure delete this manufucturer?",onConfirm:w,okText:"Yes",cancelText:"No"},r.a.createElement(S.a,{danger:!0},"Delete"))))))},Xe=m.a.Content;var Ze=function(){return r.a.createElement(m.a,{style:{height:"100vh"}},r.a.createElement(k,null),r.a.createElement(m.a,{className:"site-layout"},r.a.createElement($,null),r.a.createElement(Xe,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:f.ADMIN_MACHINES,component:Te}),r.a.createElement(s.b,{path:f.ADMIN_MACHINE_DETAIL,component:Ke}),r.a.createElement(s.b,{path:f.ADMIN_MACHINE_NEW,component:Ie}),r.a.createElement(s.b,{exact:!0,path:f.ADMIN_MANUFUCTURERS,component:We}),r.a.createElement(s.b,{path:f.ADMIN_MANUFUCTURER_DETAIL,component:Ye}),r.a.createElement(s.b,{path:f.ADMIN_MANUFUCTURER_NEW,component:Qe}),r.a.createElement(s.a,{exact:!0,from:f.ADMIN,to:f.ADMIN_MACHINES}),r.a.createElement(s.a,{exact:!0,from:"/",to:f.ADMIN_MACHINES})))))},et=a(262),tt=a.n(et),at=a(132),nt=a(527),rt=a(528),lt=o.a.Text,ct=function(){var e=Object(P.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.login(t.email,t.password);case 3:window.location=f.ADMIN_MACHINES,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.response&&400===e.t0.response.status&&U.b.error(e.t0.response.data);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();var it=function(){return W.getCurrentUser()?r.a.createElement(s.a,{to:f.ADMIN_MACHINES}):r.a.createElement(te.a,{justify:"center",style:{backgroundImage:"url(".concat(tt.a,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",width:"100%",height:"100vh"}},r.a.createElement("div",{style:{backgroundColor:b,width:400,position:"relative",left:200,opacity:.9,height:500,marginTop:100}}),r.a.createElement("div",{style:{width:400,height:500,marginTop:100,padding:50,position:"relative",right:200,display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement("div",{style:{textAlign:"center",marginBottom:30}},r.a.createElement(lt,{style:{color:h,fontSize:"1.4em"},level:4},"Machinery"),r.a.createElement("p",null,"Administration")),r.a.createElement(ee.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:ct},r.a.createElement(ee.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}]},r.a.createElement(ne.a,{prefix:r.a.createElement(nt.a,{className:"site-form-item-icon"}),placeholder:"Email"})),r.a.createElement(ee.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(ne.a,{prefix:r.a.createElement(rt.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),r.a.createElement(ee.a.Item,null,r.a.createElement(ee.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0},r.a.createElement(at.a,null,"Remember me"))),r.a.createElement(ee.a.Item,null,r.a.createElement(S.a,{type:"primary",htmlType:"submit",style:{width:"100%"}},"Log in"),"Or ",r.a.createElement("a",{href:f.ADMIN_REGISTER},"register now!")))))},st=a(263),mt=a.n(st);var ot={register:function(e){var t={email:e.email,password:e.password,name:e.name};return L.post("/users",t)},getUserDetail:function(){return L.get("/users/me")}},ut=o.a.Text,dt=function(){var e=Object(P.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ot.register(t);case 3:a=e.sent,W.loginWithJwt(a.data),window.location=f.ADMIN_MACHINES,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response&&400===e.t0.response.status&&U.b.error(e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();var pt=function(){return W.getCurrentUser()?r.a.createElement(s.a,{to:f.ADMIN_MACHINES}):r.a.createElement(te.a,{justify:"center",style:{backgroundImage:"url(".concat(mt.a,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",width:"100%",height:"100vh"}},r.a.createElement("div",{style:{backgroundColor:b,width:400,position:"relative",left:200,opacity:.9,height:550,marginTop:100}}),r.a.createElement("div",{style:{width:400,height:550,marginTop:100,padding:50,position:"relative",right:200,display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement("div",{style:{textAlign:"center",marginBottom:30}},r.a.createElement(ut,{style:{color:h,fontSize:"1.4em"},level:4},"Machinery"),r.a.createElement("p",null,"Administration")),r.a.createElement(ee.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:dt},r.a.createElement(ee.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}]},r.a.createElement(ne.a,{prefix:r.a.createElement(nt.a,{className:"site-form-item-icon"}),placeholder:"Email"})),r.a.createElement(ee.a.Item,{name:"name",rules:[{required:!0,message:"Please input user name!"}]},r.a.createElement(ne.a,{prefix:r.a.createElement(C.a,{className:"site-form-item-icon"}),placeholder:"User name"})),r.a.createElement(ee.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(ne.a,{prefix:r.a.createElement(rt.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),r.a.createElement(ee.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(ne.a.Password,{prefix:r.a.createElement(rt.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password confirm"})),r.a.createElement(ee.a.Item,null,r.a.createElement(S.a,{type:"primary",htmlType:"submit",style:{width:"100%"}},"Register"),"Or ",r.a.createElement("a",{href:f.ADMIN_LOGIN},"login now!")))))};var Et=function(){var e=Object(n.useState)(W.getCurrentUser()),t=Object(i.a)(e,1)[0];return r.a.createElement(V.Provider,{value:{user:t}},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:f.ADMIN_LOGIN,component:it}),r.a.createElement(s.b,{path:f.ADMIN_REGISTER,component:pt}),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{path:f.ADMIN,component:Ze})),r.a.createElement(s.a,{to:f.ADMIN_LOGIN})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(E.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(Et,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[272,1,2]]]);
//# sourceMappingURL=main.fb329c9e.chunk.js.map